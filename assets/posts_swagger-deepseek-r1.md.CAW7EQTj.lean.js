import{_ as s,c as T,m as l,a as t,L as e,o as Q}from"./chunks/framework.CcfPirFf.js";const n="/assets/deepseek-r1-zero.eC269VkG.png",o="/assets/grpo.c83skOxz.png",r="/assets/PPO.B5Bd-Z7t.png",i="/assets/ppo_clip.B6tDZm96.png",m="/assets/grpo_formula.CWVhrE8B.png",d="/assets/advantage.CQSb0kG5.png",g="/assets/opm.DwGTc26-.png",p="/assets/training_template.Cfxh5JiW.png",h="/assets/r1-zero_exp4.DjTboUvH.png",u="/assets/r1-zero_exp3.CxBLtoRd.png",x="/assets/r1-zero_exp1.Elu7nwkR.png",H="/assets/r1-zero_exp2.DPSn0MZu.png",f="/assets/deepseek-r1.BR4QHLmW.png",w="/assets/distillation.CM5dBkKq.png",c="/assets/exp1.Bvbl38bX.png",V="/assets/exp2.BFilRluy.png",M="/assets/ex3.BNcCmNSJ.png",o3=JSON.parse('{"title":"DeepSeek-R1 论文解读及相关技术杂谈","description":"","frontmatter":{"title":"DeepSeek-R1 论文解读及相关技术杂谈","date":"2025-03-16T00:00:00.000Z","author":{"name":"swagger","github":"swagger-coder"},"category":"insights"},"headers":[],"relativePath":"posts/swagger-deepseek-r1.md","filePath":"posts/swagger-deepseek-r1.md"}'),L={name:"posts/swagger-deepseek-r1.md"},_={id:"mjx-91634ca"},v={class:"MathJax",jax:"SVG",style:{position:"relative"}},Z={style:{"vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.697ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -716 750 716","aria-hidden":"true"},D={id:"mjx-2003567"},S={class:"MathJax",jax:"SVG",style:{position:"relative"}},y={style:{"vertical-align":"-0.023ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.061ex",height:"1.618ex",role:"img",focusable:"false",viewBox:"0 -705 469 715","aria-hidden":"true"},k={id:"mjx-500e226"},b={class:"MathJax",jax:"SVG",style:{position:"relative"}},j={style:{"vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.383ex",height:"1.952ex",role:"img",focusable:"false",viewBox:"0 -705 1495.3 862.8","aria-hidden":"true"},R={id:"mjx-bebaebc"},C={class:"MathJax",jax:"SVG",style:{position:"relative"}},A={style:{"vertical-align":"-1.418ex"},xmlns:"http://www.w3.org/2000/svg",width:"33.856ex",height:"3.128ex",role:"img",focusable:"false",viewBox:"0 -755.8 14964.5 1382.6","aria-hidden":"true"},P={id:"mjx-fc2c6ce"},B={class:"MathJax",jax:"SVG",style:{position:"relative"}},O={style:{"vertical-align":"-1.418ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.174ex",height:"3.128ex",role:"img",focusable:"false",viewBox:"0 -755.8 1844.7 1382.6","aria-hidden":"true"},q={id:"mjx-2272072"},I={class:"MathJax",jax:"SVG",style:{position:"relative"}},G={style:{"vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.815ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 2128.4 748","aria-hidden":"true"},J={id:"mjx-5ebe7b4"},E={class:"MathJax",jax:"SVG",style:{position:"relative"}},F={style:{"vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.815ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 2128.4 748","aria-hidden":"true"},N={id:"mjx-679b43e"},X={class:"MathJax",jax:"SVG",style:{position:"relative"}},z={style:{"vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.697ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -716 750 716","aria-hidden":"true"},U={id:"mjx-c4d89ee"},W={class:"MathJax",jax:"SVG",style:{position:"relative"}},K={style:{"vertical-align":"-1.418ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.174ex",height:"3.128ex",role:"img",focusable:"false",viewBox:"0 -755.8 1844.7 1382.6","aria-hidden":"true"},$={id:"mjx-c90151c"},Y={class:"MathJax",jax:"SVG",style:{position:"relative"}},t1={style:{"vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.815ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 2128.4 748","aria-hidden":"true"},a1={id:"mjx-6e51365"},e1={class:"MathJax",jax:"SVG",style:{position:"relative"}},T1={style:{"vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.697ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -716 750 716","aria-hidden":"true"},Q1={id:"mjx-af07c82"},l1={class:"MathJax",jax:"SVG",style:{position:"relative"}},s1={style:{"vertical-align":"-1.418ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.174ex",height:"3.128ex",role:"img",focusable:"false",viewBox:"0 -755.8 1844.7 1382.6","aria-hidden":"true"},n1={id:"mjx-41224f6"},o1={class:"MathJax",jax:"SVG",style:{position:"relative"}},r1={style:{"vertical-align":"-0.186ex"},xmlns:"http://www.w3.org/2000/svg",width:"4.815ex",height:"1.692ex",role:"img",focusable:"false",viewBox:"0 -666 2128.4 748","aria-hidden":"true"},i1={id:"mjx-de5ed77"},m1={class:"MathJax",jax:"SVG",style:{position:"relative"}},d1={style:{"vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},g1={id:"mjx-09ee8f9"},p1={class:"MathJax",jax:"SVG",style:{position:"relative"}},h1={style:{"vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.87ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1710.3 692.6","aria-hidden":"true"},u1={id:"mjx-6ed8674"},x1={class:"MathJax",jax:"SVG",style:{position:"relative"}},H1={style:{"vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.02ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 451 453","aria-hidden":"true"},f1={id:"mjx-a727ac8"},w1={class:"MathJax",jax:"SVG",style:{position:"relative"}},c1={style:{"vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.027ex",role:"img",focusable:"false",viewBox:"0 -443 485 454","aria-hidden":"true"},V1={id:"mjx-ce29c1a"},M1={class:"MathJax",jax:"SVG",style:{position:"relative"}},L1={style:{"vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.02ex",height:"1.025ex",role:"img",focusable:"false",viewBox:"0 -442 451 453","aria-hidden":"true"},_1={id:"mjx-e69843"},v1={class:"MathJax",jax:"SVG",style:{position:"relative"}},Z1={style:{"vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.097ex",height:"1.027ex",role:"img",focusable:"false",viewBox:"0 -443 485 454","aria-hidden":"true"},D1={id:"mjx-365cffa"},S1={class:"MathJax",jax:"SVG",style:{position:"relative"}},y1={style:{"vertical-align":"0"},xmlns:"http://www.w3.org/2000/svg",width:"1.697ex",height:"1.62ex",role:"img",focusable:"false",viewBox:"0 -716 750 716","aria-hidden":"true"},k1={id:"mjx-2aecba1"},b1={class:"MathJax",jax:"SVG",style:{position:"relative"}},j1={style:{"vertical-align":"-0.592ex"},xmlns:"http://www.w3.org/2000/svg",width:"3.87ex",height:"1.567ex",role:"img",focusable:"false",viewBox:"0 -431 1710.3 692.6","aria-hidden":"true"},R1={id:"mjx-5e56c6e"},C1={class:"MathJax",jax:"SVG",style:{position:"relative"}},A1={style:{"vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"15.022ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6639.6 1000","aria-hidden":"true"},P1={id:"mjx-db8b7e9"},B1={class:"MathJax",jax:"SVG",style:{position:"relative"}},O1={style:{"vertical-align":"-0.355ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.228ex",height:"1.33ex",role:"img",focusable:"false",viewBox:"0 -431 984.6 588.1","aria-hidden":"true"},q1={id:"mjx-dd2a89c"},I1={class:"MathJax",jax:"SVG",style:{position:"relative"}},G1={style:{"vertical-align":"-0.025ex"},xmlns:"http://www.w3.org/2000/svg",width:"0.919ex",height:"1ex",role:"img",focusable:"false",viewBox:"0 -431 406 442","aria-hidden":"true"},J1={id:"mjx-216121d"},E1={class:"MathJax",jax:"SVG",style:{position:"relative"}},F1={style:{"vertical-align":"-0.439ex"},xmlns:"http://www.w3.org/2000/svg",width:"1.281ex",height:"2.034ex",role:"img",focusable:"false",viewBox:"0 -705 566 899","aria-hidden":"true"},N1={id:"mjx-97c7c65"},X1={class:"MathJax",jax:"SVG",style:{position:"relative"}},z1={style:{"vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.437ex",height:"1.977ex",role:"img",focusable:"false",viewBox:"0 -716 1077 873.8","aria-hidden":"true"},U1={id:"mjx-af654c1"},W1={class:"MathJax",jax:"SVG",style:{position:"relative"}},K1={style:{"vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"14.791ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 6537.6 1000","aria-hidden":"true"},$1={id:"mjx-d8f9d35"},Y1={class:"MathJax",jax:"SVG",style:{position:"relative"}},t3={style:{"vertical-align":"-0.357ex"},xmlns:"http://www.w3.org/2000/svg",width:"2.437ex",height:"1.977ex",role:"img",focusable:"false",viewBox:"0 -716 1077 873.8","aria-hidden":"true"};function a3(e3,a,T3,Q3,l3,s3){return Q(),T("div",null,[a[99]||(a[99]=l("",19)),t("p",null,[a[26]||(a[26]=e("不要看公式复杂，这里是想让优势 ",-1)),t("span",_,[t("mjx-container",v,[(Q(),T("svg",Z,[...a[0]||(a[0]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D434",d:"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"})])])],-1)])])),a[1]||(a[1]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"A")])],-1))])]),a[27]||(a[27]=e(" 越大越好的同时约束新的参数 ",-1)),t("span",D,[t("mjx-container",S,[(Q(),T("svg",y,[...a[2]||(a[2]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D703",d:"M35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132Z"})])])],-1)])])),a[3]||(a[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"θ")])],-1))])]),a[28]||(a[28]=e(" 和旧的参数 ",-1)),t("span",k,[t("mjx-container",b,[(Q(),T("svg",j,[...a[4]||(a[4]=[l("",1)])])),a[5]||(a[5]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])],-1))])]),a[29]||(a[29]=e(" 不要相差太远。其中 ",-1)),t("span",R,[t("mjx-container",C,[(Q(),T("svg",A,[...a[6]||(a[6]=[l("",1)])])),a[7]||(a[7]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mtext",null,"clip"),t("mo",null,"="),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"max"),t("mo",{stretchy:"false"},"("),t("mo",{"data-mjx-texclass":"OP",movablelimits:"true"},"min"),t("mo",{stretchy:"false"},"("),t("mfrac",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])])]),t("mo",null,","),t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")"),t("mo",null,","),t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ"),t("mo",{stretchy:"false"},")")])],-1))])]),a[30]||(a[30]=e(" ，即把 ",-1)),t("span",P,[t("mjx-container",B,[(Q(),T("svg",O,[...a[8]||(a[8]=[l("",1)])])),a[9]||(a[9]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])])])])],-1))])]),a[31]||(a[31]=e(" 的值限制在 ",-1)),t("span",q,[t("mjx-container",I,[(Q(),T("svg",G,[...a[10]||(a[10]=[l("",1)])])),a[11]||(a[11]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")])],-1))])]),a[32]||(a[32]=e(" 和 ",-1)),t("span",J,[t("mjx-container",E,[(Q(),T("svg",F,[...a[12]||(a[12]=[l("",1)])])),a[13]||(a[13]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")])],-1))])]),a[33]||(a[33]=e(" 之间。如果 ",-1)),t("span",N,[t("mjx-container",X,[(Q(),T("svg",z,[...a[14]||(a[14]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D434",d:"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"})])])],-1)])])),a[15]||(a[15]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"A")])],-1))])]),a[34]||(a[34]=e(" 为正，那么说明当前动作价值高于平均，最大化式子会增大 ",-1)),t("span",U,[t("mjx-container",W,[(Q(),T("svg",K,[...a[16]||(a[16]=[l("",1)])])),a[17]||(a[17]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])])])])],-1))])]),a[35]||(a[35]=e(" ，但是不会超过 ",-1)),t("span",$,[t("mjx-container",Y,[(Q(),T("svg",t1,[...a[18]||(a[18]=[l("",1)])])),a[19]||(a[19]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"+"),t("mi",null,"ϵ")])],-1))])]),a[36]||(a[36]=e(" ，如果 ",-1)),t("span",a1,[t("mjx-container",e1,[(Q(),T("svg",T1,[...a[20]||(a[20]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D434",d:"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"})])])],-1)])])),a[21]||(a[21]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"A")])],-1))])]),a[37]||(a[37]=e(" 为负，说明当前动作价值低于平均，最大化式子会减小 ",-1)),t("span",Q1,[t("mjx-container",l1,[(Q(),T("svg",s1,[...a[22]||(a[22]=[l("",1)])])),a[23]||(a[23]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mfrac",null,[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])]),t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])])])])],-1))])]),a[38]||(a[38]=e(" ，但是不会超过 ",-1)),t("span",n1,[t("mjx-container",o1,[(Q(),T("svg",r1,[...a[24]||(a[24]=[l("",1)])])),a[25]||(a[25]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"1"),t("mo",null,"−"),t("mi",null,"ϵ")])],-1))])]),a[39]||(a[39]=e(" 。下面是李宏毅老师[3]的讲解视频中的截图，可以参考：",-1))]),a[100]||(a[100]=t("div",{style:{display:"flex","justify-content":"center"}},[t("figure",{style:{width:"100%"}},[t("img",{src:i}),t("figcaption",{style:{"text-align":"center"}},"图3：PPO clip值范围示意图[3]")])],-1)),a[101]||(a[101]=t("p",null,"PPO 在大语言模型中的整体流程包括以下几个关键组件：",-1)),t("ol",null,[t("li",null,[t("p",null,[a[42]||(a[42]=t("strong",null,"策略模型（Policy Model）",-1)),a[43]||(a[43]=e("：负责生成动作的模型，基于当前状态选择最优动作。PPO 通过优化策略模型的参数来提高策略的表现。对应公式中的 ",-1)),t("span",i1,[t("mjx-container",m1,[(Q(),T("svg",d1,[...a[40]||(a[40]=[l("",1)])])),a[41]||(a[41]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))])]),a[44]||(a[44]=e(" 。",-1))])]),t("li",null,[t("p",null,[a[47]||(a[47]=t("strong",null,"参考模型（Reference Model）",-1)),a[48]||(a[48]=e("：用于对比和评估策略模型的表现，确保新策略不会偏离旧策略太多，从而维持训练的稳定性。对应公式中的 ",-1)),t("span",g1,[t("mjx-container",p1,[(Q(),T("svg",h1,[...a[45]||(a[45]=[l("",1)])])),a[46]||(a[46]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])])])],-1))])]),a[49]||(a[49]=e(" 。",-1))])]),t("li",null,[t("p",null,[a[52]||(a[52]=t("strong",null,"奖励模型（Reward Model）",-1)),a[53]||(a[53]=e("：用于评估每个动作的好坏，提供反馈信号以指导策略模型的优化。奖励信号通常基于任务的具体目标进行设计。对应公式中的 ",-1)),t("span",u1,[t("mjx-container",x1,[(Q(),T("svg",H1,[...a[50]||(a[50]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45F",d:"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"})])])],-1)])])),a[51]||(a[51]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"r")])],-1))])]),a[54]||(a[54]=e(" 。",-1))])]),t("li",null,[t("p",null,[a[57]||(a[57]=t("strong",null,"值模型（Value Model）",-1)),a[58]||(a[58]=e("：用于估计给定状态的价值，帮助策略模型更好地评估未来的奖励。值模型通过最小化预测误差进行更新。对应公式中的 ",-1)),t("span",f1,[t("mjx-container",w1,[(Q(),T("svg",c1,[...a[55]||(a[55]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D463",d:"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"})])])],-1)])])),a[56]||(a[56]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"v")])],-1))])]),a[59]||(a[59]=e(" 。",-1))])]),t("li",null,[t("p",null,[a[66]||(a[66]=t("strong",null,"广义优势估计（GAE, Generalized Advantage Estimation）",-1)),a[67]||(a[67]=e("：用于计算每个状态-动作对的优势函数，结合了即时奖励 ",-1)),t("span",V1,[t("mjx-container",M1,[(Q(),T("svg",L1,[...a[60]||(a[60]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D45F",d:"M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z"})])])],-1)])])),a[61]||(a[61]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"r")])],-1))])]),a[68]||(a[68]=e(" 和未来奖励 ",-1)),t("span",_1,[t("mjx-container",v1,[(Q(),T("svg",Z1,[...a[62]||(a[62]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D463",d:"M173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380Z"})])])],-1)])])),a[63]||(a[63]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"v")])],-1))])]),a[69]||(a[69]=e(" 的折现和估计，提供更稳定的优势信号。最终能得到优势 ",-1)),t("span",D1,[t("mjx-container",S1,[(Q(),T("svg",y1,[...a[64]||(a[64]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D434",d:"M208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260Z"})])])],-1)])])),a[65]||(a[65]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"A")])],-1))])]),a[70]||(a[70]=e(" 。",-1))])])]),a[102]||(a[102]=t("p",null,"其中 Value Model 通常适合 Policy Model 差不多参数量的模型，这对显存和计算带来了额外的开销，同时在大语言模型场景下，通常只是最后一个 token 计算 reward，这可能会加大考虑所有 token 的 Value Model 的训练难度。",-1)),t("p",null,[a[77]||(a[77]=e("因此在 ",-1)),a[78]||(a[78]=t("strong",null,"GRPO（Group Relative Policy Optimization）",-1)),a[79]||(a[79]=e(" 中直接去除了 Value Model，这对应的带来了另一个问题：如何评估未来的奖励？GRPO 的做法是利用多次采样取平均 reward 的方式实现这个效果。GRPO 从旧策略 ",-1)),t("span",k1,[t("mjx-container",b1,[(Q(),T("svg",j1,[...a[71]||(a[71]=[l("",1)])])),a[72]||(a[72]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("msub",null,[t("mi",null,"θ"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mtext",null,"old")])])])])])],-1))])]),a[80]||(a[80]=e(" 中采样一组输出 ",-1)),t("span",R1,[t("mjx-container",C1,[(Q(),T("svg",A1,[...a[73]||(a[73]=[l("",1)])])),a[74]||(a[74]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{fence:"false",stretchy:"false"},"{"),t("msub",null,[t("mi",null,"o"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mn",null,"2")]),t("mo",null,","),t("mo",null,"…"),t("mo",null,","),t("msub",null,[t("mi",null,"o"),t("mi",null,"G")]),t("mo",{fence:"false",stretchy:"false"},"}")])],-1))])]),a[81]||(a[81]=e(" ，然后通过最大化以下目标来优化策略模型 ",-1)),t("span",P1,[t("mjx-container",B1,[(Q(),T("svg",O1,[...a[75]||(a[75]=[l("",1)])])),a[76]||(a[76]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"π"),t("mrow",{"data-mjx-texclass":"ORD"},[t("mi",null,"θ")])])])],-1))])]),a[82]||(a[82]=e(" 。",-1))]),a[103]||(a[103]=t("div",{style:{display:"flex","justify-content":"center"}},[t("figure",{style:{width:"100%"}},[t("img",{src:m})])],-1)),t("p",null,[a[91]||(a[91]=e("其中 ",-1)),t("span",q1,[t("mjx-container",I1,[(Q(),T("svg",G1,[...a[83]||(a[83]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D716",d:"M227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11Z"})])])],-1)])])),a[84]||(a[84]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"ϵ")])],-1))])]),a[92]||(a[92]=e(" 和 ",-1)),t("span",J1,[t("mjx-container",E1,[(Q(),T("svg",F1,[...a[85]||(a[85]=[t("g",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",transform:"scale(1,-1)"},[t("g",{"data-mml-node":"math"},[t("g",{"data-mml-node":"mi"},[t("path",{"data-c":"1D6FD",d:"M29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431Z"})])])],-1)])])),a[86]||(a[86]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mi",null,"β")])],-1))])]),a[93]||(a[93]=e(" 是超参数， ",-1)),t("span",N1,[t("mjx-container",X1,[(Q(),T("svg",z1,[...a[87]||(a[87]=[l("",1)])])),a[88]||(a[88]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"i")])])],-1))])]),a[94]||(a[94]=e(" 是优势，使用一组奖励 ",-1)),t("span",U1,[t("mjx-container",W1,[(Q(),T("svg",K1,[...a[89]||(a[89]=[l("",1)])])),a[90]||(a[90]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mo",{fence:"false",stretchy:"false"},"{"),t("msub",null,[t("mi",null,"r"),t("mn",null,"1")]),t("mo",null,","),t("msub",null,[t("mi",null,"r"),t("mn",null,"2")]),t("mo",null,","),t("mo",null,"…"),t("mo",null,","),t("msub",null,[t("mi",null,"r"),t("mi",null,"G")]),t("mo",{fence:"false",stretchy:"false"},"}")])],-1))])]),a[95]||(a[95]=e(" 计算得出，这些奖励对应于每组内的输出：",-1))]),a[104]||(a[104]=t("div",{style:{display:"flex","justify-content":"center"}},[t("figure",{style:{width:"100%"}},[t("img",{src:d})])],-1)),t("p",null,[t("span",$1,[t("mjx-container",Y1,[(Q(),T("svg",t3,[...a[96]||(a[96]=[l("",1)])])),a[97]||(a[97]=t("mjx-assistive-mml",{unselectable:"on",display:"inline"},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("msub",null,[t("mi",null,"A"),t("mi",null,"i")])])],-1))])]),a[98]||(a[98]=e(" 随着 Value Model 的消失，计算方式也变得更为简单，就是简单的均值方差计算。",-1))]),a[105]||(a[105]=l("",77))])}const r3=s(L,[["render",a3]]);export{o3 as __pageData,r3 as default};
