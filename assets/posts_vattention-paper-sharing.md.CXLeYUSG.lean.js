import{_ as l,c as T,q as a,a as t,N as o,o as e}from"./chunks/framework.BRsttz9t.js";const n="/assets/attention.CBGOAWEu.jpg",s="/assets/blockmap.BrdRnABv.jpg",r="/assets/kernelcost.CWqKASyM.jpg",i="/assets/kernelcost1.Vqu64aOU.jpg",d="/assets/mapping.0eCKhHFO.jpg",m="/assets/vmm.BlLhtrb1.jpg",p="/assets/pytorch.D2iFhLdM.jpg",h="/assets/inference.CU6yuwQS.jpg",c="/assets/inference1.Dsg_viL4.jpg",g="/assets/setup.CVwdh984.jpg",L="/assets/prefill.ZpKIx31_.jpg",u="/assets/prefill1.Bt1Jw9jP.jpg",_="/assets/decode.BXyx9g38.jpg",f="/assets/offline.BjjqIJUl.jpg",x="/assets/online.DBRnAS22.jpg",k="/assets/fa3.DT8vQidR.jpg",w="/assets/batchsize.AxUMdTEX.jpg",B=JSON.parse('{"title":"【论文分享】| vAttention: Dynamic Memory Management for Serving LLMs without PagedAttention","description":"","frontmatter":{"title":"【论文分享】| vAttention: Dynamic Memory Management for Serving LLMs without PagedAttention","date":"2025-09-02T00:00:00.000Z","author":{"name":"陈煜彦","github":"cyy536"},"category":"insights"},"headers":[],"relativePath":"posts/vattention-paper-sharing.md","filePath":"posts/vattention-paper-sharing.md"}'),H={name:"posts/vattention-paper-sharing.md"},M={class:"MathJax",jax:"SVG",display:"true",style:{direction:"ltr",display:"block","text-align":"center",margin:"1em 0",position:"relative"}},y={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.56ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11739.7 1000","aria-hidden":"true"},b={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},A={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.566ex"},xmlns:"http://www.w3.org/2000/svg",width:"26.56ex",height:"2.262ex",role:"img",focusable:"false",viewBox:"0 -750 11739.7 1000","aria-hidden":"true"},v={class:"MathJax",jax:"SVG",style:{direction:"ltr",position:"relative"}},V={style:{overflow:"visible","min-height":"1px","min-width":"1px","vertical-align":"-0.05ex"},xmlns:"http://www.w3.org/2000/svg",width:"13.53ex",height:"1.595ex",role:"img",focusable:"false",viewBox:"0 -683 5980.3 705","aria-hidden":"true"};function P(Z,Q,q,S,D,C){return e(),T("div",null,[Q[11]||(Q[11]=a("",8)),t("mjx-container",M,[(e(),T("svg",y,[...Q[0]||(Q[0]=[a("",1)])])),Q[1]||(Q[1]=t("mjx-assistive-mml",{unselectable:"on",display:"block",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",overflow:"hidden",width:"100%"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[t("mn",null,"2"),t("mo",null,"∗"),t("mi",null,"N"),t("mo",null,"∗"),t("mo",{stretchy:"false"},"("),t("mi",null,"B"),t("mo",null,"∗"),t("mi",null,"L"),t("mo",null,"∗"),t("mi",null,"H"),t("mo",null,"∗"),t("mi",null,"D"),t("mo",null,"∗"),t("mi",null,"P"),t("mo",{stretchy:"false"},")")])],-1))]),Q[12]||(Q[12]=a("",21)),t("ol",null,[t("li",null,[Q[6]||(Q[6]=t("p",null,"一开始就连续分配足够大的虚拟空间",-1)),t("ul",null,[t("li",null,[t("mjx-container",b,[(e(),T("svg",A,[...Q[2]||(Q[2]=[a("",1)])])),Q[3]||(Q[3]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"2"),t("mo",null,"∗"),t("mi",null,"N"),t("mo",null,"∗"),t("mo",{stretchy:"false"},"("),t("mi",null,"B"),t("mo",null,"∗"),t("mi",null,"L"),t("mo",null,"∗"),t("mi",null,"H"),t("mo",null,"∗"),t("mi",null,"D"),t("mo",null,"∗"),t("mi",null,"P"),t("mo",{stretchy:"false"},")")])],-1))])]),Q[4]||(Q[4]=t("li",null,"层数、maximum batch size、maximum context length、head num、dim、sizeof(dtype)",-1)),Q[5]||(Q[5]=t("li",null,"括号里的代表一个虚拟 tensor 的大小，是虚拟空间的分配单元，即内部是连续的",-1))])]),Q[7]||(Q[7]=t("li",null,[t("p",null,"显存按需分配：CUDA virtual memory management APIs 允许单独分配虚拟空间和物理空间，物理空间分配单位是 page-group(数个物理页)")],-1))]),Q[13]||(Q[13]=a("",10)),t("p",null,[Q[10]||(Q[10]=o("总时间:",-1)),t("mjx-container",v,[(e(),T("svg",V,[...Q[8]||(Q[8]=[a("",1)])])),Q[9]||(Q[9]=t("mjx-assistive-mml",{unselectable:"on",display:"inline",style:{top:"0px",left:"0px",clip:"rect(1px, 1px, 1px, 1px)","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none",position:"absolute",padding:"1px 0px 0px 0px",border:"0px",display:"block",width:"auto",overflow:"hidden"}},[t("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[t("mn",null,"40"),t("mo",null,"∗"),t("mi",null,"B"),t("mo",null,"∗"),t("mi",null,"N"),t("mo",null,"∗"),t("mn",null,"2")])],-1))])]),Q[14]||(Q[14]=a("",32))])}const I=l(H,[["render",P]]);export{B as __pageData,I as default};
