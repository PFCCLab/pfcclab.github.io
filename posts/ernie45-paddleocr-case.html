<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>用 ERNIE 4.5 与 PaddleOCR 3.0 实现文档翻译实践指南 | 飞桨开源社区博客</title>
    <meta name="description" content="Wonderful stories from PaddlePaddle contributors">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.Bmt1Tc9P.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DS602zSQ.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.D_rBkLxc.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CcfPirFf.js">
    <link rel="modulepreload" href="/assets/posts_ernie45-paddleocr-case.md.BvBe1h6u.lean.js">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/icons/mask-icon.svg" color="#ffffff">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7XR50K1YRK"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7XR50K1YRK");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <link rel="manifest" href="/manifest.webmanifest">
  </head>
  <body>
    <div id="app"><div class="antialiased dark:bg-neutral-900 min-h-screen"><div class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><nav class="flex justify-between items-center py-10 font-bold"><a class="text-xl" href="/" aria-label="飞桨开源社区博客"><img class="inline-block mr-2" style="width:120px;" alt="logo" src="/logo.png"><span class="hidden md:inline dark:text-white">飞桨开源社区博客</span></a><div class="text-sm text-gray-500 dark:text-white leading-5"><a class="hover:text-gray-700 dark:hover:text-gray-200" href="https://github.com/PFCCLab/blog" target="_blank" rel="noopener"><span class="hidden sm:inline">GitHub </span>Source</a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700 dark:hover:text-gray-200" href="/about.html" rel="noopener">About</a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700 dark:hover:text-gray-200" href="https://github.com/PFCCLab" target="_blank" rel="noopener">PFCCLab →</a></div></nav></div><main class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article class="xl:divide-y xl:divide-gray-200 dark:xl:divide-slate-200/5"><header class="pt-6 xl:pb-10 space-y-1 text-center"><dl><dt class="sr-only">Published on</dt><dd class="text-base leading-6 font-medium text-gray-500 dark:text-gray-300"><time datetime="2025-08-09T12:00:00.000Z">2025年8月9日</time></dd></dl><h1 class="text-3xl leading-9 font-extrabold text-gray-900 dark:text-white tracking-tight sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">用 ERNIE 4.5 与 PaddleOCR 3.0 实现文档翻译实践指南</h1></header><div class="divide-y xl:divide-y-0 divide-gray-200 dark:divide-slate-200/5 xl:grid xl:grid-cols-4 xl:gap-x-10 pb-16 xl:pb-20" style="grid-template-rows:auto 1fr;"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 dark:xl:border-slate-200/5"><dt class="sr-only">Authors</dt><dd><ul class="flex flex-col pl-10 space-y-5 md:justify-center md:flex-row md:space-y-0 md:space-x-12 md:pl-0 xl:block xl:space-x-0 xl:space-y-8"><!--[--><li class="flex items-center space-x-2"><img src="https://github.com/openvino-book.png" alt="author image" class="w-10 h-10 rounded-full"><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-white">张晶</dd><dt class="sr-only">GitHub</dt><dd><a href="https://github.com/openvino-book" target="_blank" rel="noopnener noreferrer" class="link">@openvino-book</a></dd></dl></li><!--]--></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-slate-200/5 xl:pb-0 xl:col-span-3 xl:row-span-2"><div style="position:relative;" class="prose dark:prose-invert max-w-none pt-10 pb-8"><div><h2 id="一、文档翻译的挑战" tabindex="-1">一、文档翻译的挑战 <a class="header-anchor" href="#一、文档翻译的挑战" aria-label="Permalink to &quot;一、文档翻译的挑战&quot;">​</a></h2><p>在全球化背景下，跨语言沟通需求日益增长，文档翻译的重要性愈发凸显。尤其是随着数字化进程加速，文档图像翻译的需求持续上升，但这一任务面临着独特的挑战：</p><ul><li><strong>复杂布局解析</strong>：文档图像常包含文本、图表、表格等多种元素，传统 OCR 技术在处理复杂布局时难以准确提取文本并保留原始格式</li><li><strong>多语言翻译质量</strong>：不同语言间存在语法、词汇和文化背景差异，长句和上下文依赖翻译任务对传统工具而言颇具难度</li><li><strong>格式保留</strong>：翻译过程中如何保持文档的原始结构和格式，是用户面临的另一大痛点</li></ul><p>你是否曾因这些问题而困扰？本文将介绍如何利用<a href="https://www.github.com/paddlepaddle/paddleocr" target="_blank" rel="noreferrer">PaddleOCR 3.0</a>和<a href="https://github.com/PaddlePaddle/ERNIE" target="_blank" rel="noreferrer">ERNIE 4.5</a>实现高质量的文档翻译解决方案。</p><h2 id="二、paddleocr-3-0-与-ernie-4-5-简介" tabindex="-1">二、PaddleOCR 3.0 与 ERNIE 4.5 简介 <a class="header-anchor" href="#二、paddleocr-3-0-与-ernie-4-5-简介" aria-label="Permalink to &quot;二、PaddleOCR 3.0 与 ERNIE 4.5 简介&quot;">​</a></h2><h3 id="paddleocr-3-0" tabindex="-1">PaddleOCR 3.0 <a class="header-anchor" href="#paddleocr-3-0" aria-label="Permalink to &quot;PaddleOCR 3.0&quot;">​</a></h3><p>PaddleOCR 3.0 是业界领先、可直接部署的 OCR 与文档智能引擎，提供从文本识别到文档理解的全流程解决方案，提供了全场景文字识别模型 PP-OCRv5、复杂文档解析 PP-StructureV3 和智能信息抽取 PP-ChatOCRv4，其中 PP-StructureV3 在布局区域检测、表格识别和公式识别方面能力尤为突出，还增加了图表理解、恢复多列阅读顺序以及将结果转换为 Markdown 文件的功能。</p><h3 id="ernie-4-5" tabindex="-1">ERNIE 4.5 <a class="header-anchor" href="#ernie-4-5" aria-label="Permalink to &quot;ERNIE 4.5&quot;">​</a></h3><p>ERNIE 4.5 是百度发布的开源多模态和大语言系列，含 10 种版本，最大达 424B 参数，采用创新 MoE 架构，支持跨模态共享与专用参数，在文本与多模态任务中表现领先。<strong>通过结合 PP-StructureV3 的文档分析能力和 ERNIE 4.5 的翻译能力，我们可以构建一个端到端的高质量文档翻译解决方案。</strong></p><h2 id="三、解决方案概述" tabindex="-1">三、解决方案概述 <a class="header-anchor" href="#三、解决方案概述" aria-label="Permalink to &quot;三、解决方案概述&quot;">​</a></h2><p>本文介绍的文档翻译方案基于以下核心流程：</p><ol><li>使用 PP-StructureV3 分析文档内容，获取结构化数据表示</li><li>将结构化数据处理为 Markdown 格式的文档文件</li><li>利用提示工程构建提示，调用 ERNIE 4.5 翻译文档内容</li></ol><p>这种方法不仅能准确识别和分析复杂文档布局，还能实现高质量的多语言翻译服务，满足用户在不同语言环境下的文档翻译需求。</p><div align="center"><img src="https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/main/images/pipelines/doc_translation/pp_doctranslation.png" width="800"></div><h2 id="四、快速上手" tabindex="-1">四、快速上手 <a class="header-anchor" href="#四、快速上手" aria-label="Permalink to &quot;四、快速上手&quot;">​</a></h2><h3 id="步骤-1-环境准备" tabindex="-1">步骤 1：环境准备 <a class="header-anchor" href="#步骤-1-环境准备" aria-label="Permalink to &quot;步骤 1：环境准备&quot;">​</a></h3><p>首先需要安装 PaddlePaddle 框架和 PaddleOCR：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装PaddlePaddle GPU版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> paddlepaddle-gpu==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://www.paddlepaddle.org.cn/packages/stable/cu126/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装PaddleOCR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> paddleocr</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装OpenAI SDK用于测试模型可用性</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openai</span></span></code></pre></div><h3 id="步骤-2-部署-ernie-4-5-服务" tabindex="-1">步骤 2：部署 ERNIE 4.5 服务 <a class="header-anchor" href="#步骤-2-部署-ernie-4-5-服务" aria-label="Permalink to &quot;步骤 2：部署 ERNIE 4.5 服务&quot;">​</a></h3><p>ERNIE 大语言模型通过服务请求访问，需要部署为本地服务。可以使用 FastDeploy 工具部署 ERNIE 模型。部署完成后，测试服务可用性：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 测试ERNIE服务可用性</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 请填写本地服务的URL，例如：http://0.0.0.0:8000/v1</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ERNIE_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> openai</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    client </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> openai.OpenAI(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">base_url</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ERNIE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">api_key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    question </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;你是谁？&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    response1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client.chat.completions.create(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        model</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ernie-4.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">messages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: question}]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    reply </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response1.choices[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].message.content</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试成功！</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">问题：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">question</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">回答：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">except</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Exception</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;测试失败！错误信息：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="步骤-3-文档解析与翻译" tabindex="-1">步骤 3：文档解析与翻译 <a class="header-anchor" href="#步骤-3-文档解析与翻译" aria-label="Permalink to &quot;步骤 3：文档解析与翻译&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 文档翻译示例代码</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> paddleocr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PPDocTranslation</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 配置参数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">input_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;path/to/your/document.pdf&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 文档图像路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">output_path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./output/&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 结果保存路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target_language </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;zh&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 目标语言（中文）</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 初始化PP-DocTranslation pipeline</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">translation_engine </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PPDocTranslation(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    use_doc_orientation_classify</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 是否使用文档方向分类模型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    use_doc_unwarping</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 是否使用文档扭曲校正模型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    use_seal_recognition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 是否使用印章识别模型</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    use_table_recognition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">True</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 是否使用表格识别模型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解析文档图像</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">visual_predict_res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> translation_engine.visual_predict(input_path)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 处理解析结果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ori_md_info_list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> visual_predict_res:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    layout_parsing_result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;layout_parsing_result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ori_md_info_list.append(layout_parsing_result.markdown)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    layout_parsing_result.save_to_img(output_path)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    layout_parsing_result.save_to_markdown(output_path)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 如果是PDF文件，拼接多页结果</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> input_path.lower().endswith(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.pdf&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ori_md_info </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> translation_engine.concatenate_markdown_pages(ori_md_info_list)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ori_md_info.save_to_markdown(output_path)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 配置ERNIE服务</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat_bot_config </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;module_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;chat_bot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;model_name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ernie-4.5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;base_url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ERNIE_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 填写ERNIE服务URL</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;api_type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;openai&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;api_key&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api_key&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 调用ERNIE进行翻译</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;开始翻译文档...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">tgt_md_info_list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> translation_engine.translate(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    ori_md_info_list</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ori_md_info_list,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    target_language</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">target_language,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    chunk_size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 文本分块大小</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    chat_bot_config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">chat_bot_config,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 保存翻译结果</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tgt_md_info </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tgt_md_info_list:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tgt_md_info.save_to_markdown(output_path)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;翻译完成，结果保存在：</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">output_path</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>完成代码范例，请参见<a href="https://github.com/PaddlePaddle/ERNIE/blob/develop/cookbook/notebook/document_translation_tutorial_en.ipynb" target="_blank" rel="noreferrer">Document Translation Practice Based on ERNIE 4.5 and PaddleOCR</a>。</p><h2 id="五、运行示例翻译结果" tabindex="-1">五、运行示例翻译结果 <a class="header-anchor" href="#五、运行示例翻译结果" aria-label="Permalink to &quot;五、运行示例翻译结果&quot;">​</a></h2><p>下图展示了翻译效果示例（左侧为原始英文 PDF 论文图像，右侧为翻译后的中文 Markdown 文件）：</p><div align="center"><img src="https://raw.githubusercontent.com/cuicheng01/PaddleX_doc_images/main/images/pipelines/doc_translation/PP-DocTranslation_demo.jpg" width="800"></div><h2 id="六、常见问题与调试" tabindex="-1">六、常见问题与调试 <a class="header-anchor" href="#六、常见问题与调试" aria-label="Permalink to &quot;六、常见问题与调试&quot;">​</a></h2><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><ol><li><p><strong>Q</strong>: 安装 PaddlePaddle 时遇到 CUDA 版本不匹配问题？</p><p><strong>A</strong>: 请确保 CUDA 版本与 PaddlePaddle 版本兼容。可以参考<a href="https://www.paddlepaddle.org.cn/install/quick?docurl=/documentation/docs/zh/develop/install/pip/linux-pip.html" target="_blank" rel="noreferrer">PaddlePaddle 官方安装指南</a>选择合适的版本。</p></li><li><p><strong>Q</strong>: 调用 ERNIE 服务时出现连接超时？</p><p><strong>A</strong>: 检查 ERNIE 服务是否正常运行，网络连接是否畅通。可以尝试重启服务或增加超时设置。</p></li><li><p><strong>Q</strong>: 文档解析结果中表格格式丢失？</p><p><strong>A</strong>: 确保<code>use_table_recognition</code>参数设置为<code>True</code>。对于复杂表格，可能需要调整表格识别模型的参数。</p></li><li><p><strong>Q</strong>: 翻译结果质量不高？</p><p><strong>A</strong>: 尝试调整<code>chunk_size</code>参数，确保文本块大小合适。对于专业领域文档，可以提供领域词汇表作为提示的一部分。</p></li></ol><h3 id="调试技巧" tabindex="-1">调试技巧 <a class="header-anchor" href="#调试技巧" aria-label="Permalink to &quot;调试技巧&quot;">​</a></h3><ol><li><strong>逐步验证</strong>：从单页简单文档开始测试，确认每个步骤正常工作后再处理复杂文档</li><li><strong>日志输出</strong>：在关键步骤添加日志，记录处理时间和结果状态</li><li><strong>版本兼容</strong>：确保 PaddlePaddle、PaddleOCR 和其他依赖库的版本兼容</li><li><strong>可视化检查</strong>：利用<code>save_to_img</code>功能保存解析过程中的图像，直观检查问题所在</li></ol><h2 id="七、总结" tabindex="-1">七、总结 <a class="header-anchor" href="#七、总结" aria-label="Permalink to &quot;七、总结&quot;">​</a></h2><p>通过本文介绍的方法，你可以快速构建一个高质量的文档翻译系统，满足不同场景下的文档翻译需求。无论是学术论文、技术文档还是商业报告，都能得到准确、流畅的翻译结果。该系统能够处理复杂的文档结构，如表格、图表等，同时保持翻译质量。</p><h2 id="下一步与资源" tabindex="-1">下一步与资源 <a class="header-anchor" href="#下一步与资源" aria-label="Permalink to &quot;下一步与资源&quot;">​</a></h2><ul><li>📚 查阅完整文档：<a href="https://github.com/PaddlePaddle/PaddleOCR" target="_blank" rel="noreferrer">PaddleOCR 官方文档</a></li><li>💻 运行示例代码：<a href="https://github.com/PaddlePaddle/ERNIE/blob/develop/cookbook/notebook/document_translation_tutorial_en.ipynb" target="_blank" rel="noreferrer">Document Translation Practice Based on ERNIE 4.5 and PaddleOCR</a></li><li>🐞 报告问题或提出建议：<a href="https://github.com/PaddlePaddle/PaddleOCR/issues" target="_blank" rel="noreferrer">PaddleOCR GitHub Issues</a></li><li>🤝 欢迎贡献代码：<a href="https://github.com/PaddlePaddle/PaddleOCR/blob/main/docs/community/community_contribution.md" target="_blank" rel="noreferrer">PaddleOCR 贡献指南</a></li></ul></div></div></div><footer class="text-sm font-medium leading-5 divide-y divide-gray-200 dark:divide-slate-200/5 xl:col-start-1 xl:row-start-2"><div class="py-8"><h2 class="text-xs tracking-wide uppercase text-gray-500 dark:text-white"> Next Article </h2><div class="link"><a href="/posts/cosyvoice">【论文分享】｜ cosyvoice语音合成论文分享</a></div></div><div class="py-8"><h2 class="text-xs tracking-wide uppercase text-gray-500 dark:text-white"> Previous Article </h2><div class="link"><a href="/posts/glcc-luqi">GLCC明日之星陆琦：从开源新人到飞桨核心框架贡献者的技术进阶之路</a></div></div><div class="pt-8"><a class="link" href="/">← Back to the blog</a></div></footer></div></article></main></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"BNqb6J9M\",\"index.md\":\"DFYHY2Yj\",\"pages_1.md\":\"CiTwgqAK\",\"pages_2.md\":\"Yky7U-nI\",\"pages_3.md\":\"DxIV2UMh\",\"pages_4.md\":\"CwdNxePu\",\"pages_5.md\":\"CIbqU94t\",\"pages_6.md\":\"BmbzCEva\",\"pages_7.md\":\"CYgOFjET\",\"posts_2023-os-report.md\":\"CQfgAqIh\",\"posts_2024-summary.md\":\"-8tdhs2H\",\"posts_2025-3rd-sw-conf.md\":\"CFr_1efV\",\"posts_attention-sharing-sirui.md\":\"CIyqLQr1\",\"posts_attnsink-paper-sharing.md\":\"CFop6veH\",\"posts_buaa-starter.md\":\"B-bqCxin\",\"posts_build-ernie-websearch.md\":\"CxSngfAe\",\"posts_ccf-pku.md\":\"C9OUxQ8Q\",\"posts_chengdu-kaiyuanshe.md\":\"DEXv7pPK\",\"posts_chuan-story.md\":\"B0-2MCVk\",\"posts_context-parrel-sharing.md\":\"CJm1c-6m\",\"posts_cosyvoice.md\":\"ByBOpj8X\",\"posts_deepseek-tech-visualized.md\":\"CWZOSR_n\",\"posts_ernie45-paddleocr-case.md\":\"BvBe1h6u\",\"posts_first-post.md\":\"DJ8laZpG\",\"posts_flashoverlap-paper-sharing.md\":\"ufxXjt7g\",\"posts_flux-paper-sharing.md\":\"CvJWh-WF\",\"posts_glcc-luqi.md\":\"BJE4nZf-\",\"posts_hackathon-5th-episode01.md\":\"Bojk_NDY\",\"posts_hackathon-5th-episode02.md\":\"CoSeDHMY\",\"posts_hackathon-5th-episode03.md\":\"B-KCg_Or\",\"posts_hackathon-6th-summary.md\":\"CJxgKJLF\",\"posts_hackathon-7th-summary.md\":\"CIMV6iOZ\",\"posts_huanggua-story.md\":\"BcLtg44c\",\"posts_huangjiyi-story.md\":\"C03uAsbP\",\"posts_ijcai-2024-competition.md\":\"DaAIZqKY\",\"posts_io-paper-sharing.md\":\"BXgm5ecc\",\"posts_kv-cache-drop-for-llm-infer.md\":\"C4F-ZAAh\",\"posts_lightning-talks.md\":\"t5hkeqvO\",\"posts_ligoml-story.md\":\"BMSOOtO-\",\"posts_limin-story.md\":\"WLL96prv\",\"posts_loaf-sharing.md\":\"CTborbll\",\"posts_lzj-sharing.md\":\"CmO77N0w\",\"posts_magiattention-sharing.md\":\"BVamy0SM\",\"posts_megascale-infer-paper-sharing.md\":\"DvyOcwXU\",\"posts_netmoe-paper-sharing.md\":\"DUoISvhX\",\"posts_newcomers-manual.md\":\"iT3ts2-X\",\"posts_newhardware-2nd-event.md\":\"Cskn9Zwx\",\"posts_nknan-story.md\":\"Bn239c-2\",\"posts_outlier-in-llm-paper-sharing.md\":\"PHRY6770\",\"posts_paddle-pipeline-parallel.md\":\"CY2-qRXP\",\"posts_paddle-scnu.md\":\"B372aNLt\",\"posts_paddleocr-release.md\":\"DotNg8Oq\",\"posts_pfcc-36th.md\":\"PLFVNu6P\",\"posts_pku-course-2025.md\":\"CPm0LRoq\",\"posts_pku-course.md\":\"CLbH7TX9\",\"posts_post-training-overview.md\":\"CzW-Uxi2\",\"posts_pytorch-conference-01.md\":\"DbM2tafC\",\"posts_sanbu-story.md\":\"BHny1mRU\",\"posts_shanghai-event.md\":\"F9CUfLhK\",\"posts_shun-story.md\":\"CjVNIhev\",\"posts_starter-camp-5th.md\":\"BGl6UN4w\",\"posts_starter-camp.md\":\"BWdQfKvk\",\"posts_suzhou-kaifangyuanzi.md\":\"CuqMJki6\",\"posts_swagger-deepseek-r1.md\":\"CAW7EQTj\",\"posts_tao-story.md\":\"N6vpBoeL\",\"posts_type-hints-project.md\":\"B1Sh0a58\",\"posts_vattention-paper-sharing.md\":\"B2nVBAbr\",\"posts_wangxin-story.md\":\"BJ4Y1oJo\",\"posts_wuxi-kaifangyuanzi.md\":\"4pzBQupd\",\"posts_xdoctest-project.md\":\"Cae-lbKh\",\"posts_xian-event.md\":\"C0yfv2YD\",\"posts_yanguohao-story.md\":\"B7MhgKrY\",\"posts_zhangyiqiao-story.md\":\"Bt9WvsGm\",\"posts_zheng-story.md\":\"Cj31JupO\",\"posts_zju-event.md\":\"V9cPk3rW\",\"posts_zju-se-os.md\":\"0GFTXu6D\",\"posts_zuckerberg-letter-post.md\":\"9EEiAfWN\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"飞桨开源社区博客\",\"description\":\"Wonderful stories from PaddlePaddle contributors\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"postsPerPage\":10},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>