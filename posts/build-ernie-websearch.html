<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>动手学构建基于ERNIE 4.5 + WebSearch的应用：让答案更专业！ | 飞桨开源社区博客</title>
    <meta name="description" content="Wonderful stories from PaddlePaddle contributors">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.Bmt1Tc9P.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.DS602zSQ.js"></script>
    <link rel="modulepreload" href="/assets/chunks/theme.D_rBkLxc.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CcfPirFf.js">
    <link rel="modulepreload" href="/assets/posts_build-ernie-websearch.md.CxSngfAe.lean.js">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/icons/mask-icon.svg" color="#ffffff">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-7XR50K1YRK"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-7XR50K1YRK");</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <link rel="manifest" href="/manifest.webmanifest">
  </head>
  <body>
    <div id="app"><div class="antialiased dark:bg-neutral-900 min-h-screen"><div class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><nav class="flex justify-between items-center py-10 font-bold"><a class="text-xl" href="/" aria-label="飞桨开源社区博客"><img class="inline-block mr-2" style="width:120px;" alt="logo" src="/logo.png"><span class="hidden md:inline dark:text-white">飞桨开源社区博客</span></a><div class="text-sm text-gray-500 dark:text-white leading-5"><a class="hover:text-gray-700 dark:hover:text-gray-200" href="https://github.com/PFCCLab/blog" target="_blank" rel="noopener"><span class="hidden sm:inline">GitHub </span>Source</a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700 dark:hover:text-gray-200" href="/about.html" rel="noopener">About</a><span class="mr-2 ml-2">·</span><a class="hover:text-gray-700 dark:hover:text-gray-200" href="https://github.com/PFCCLab" target="_blank" rel="noopener">PFCCLab →</a></div></nav></div><main class="max-w-3xl mx-auto px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article class="xl:divide-y xl:divide-gray-200 dark:xl:divide-slate-200/5"><header class="pt-6 xl:pb-10 space-y-1 text-center"><dl><dt class="sr-only">Published on</dt><dd class="text-base leading-6 font-medium text-gray-500 dark:text-gray-300"><time datetime="2025-07-22T12:00:00.000Z">2025年7月22日</time></dd></dl><h1 class="text-3xl leading-9 font-extrabold text-gray-900 dark:text-white tracking-tight sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">动手学构建基于ERNIE 4.5 + WebSearch的应用：让答案更专业！</h1></header><div class="divide-y xl:divide-y-0 divide-gray-200 dark:divide-slate-200/5 xl:grid xl:grid-cols-4 xl:gap-x-10 pb-16 xl:pb-20" style="grid-template-rows:auto 1fr;"><dl class="pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200 dark:xl:border-slate-200/5"><dt class="sr-only">Authors</dt><dd><ul class="flex flex-col pl-10 space-y-5 md:justify-center md:flex-row md:space-y-0 md:space-x-12 md:pl-0 xl:block xl:space-x-0 xl:space-y-8"><!--[--><li class="flex items-center space-x-2"><img src="https://github.com/openvino-book.png" alt="author image" class="w-10 h-10 rounded-full"><dl class="text-sm font-medium leading-5 whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-white">张晶</dd><dt class="sr-only">GitHub</dt><dd><a href="https://github.com/openvino-book" target="_blank" rel="noopnener noreferrer" class="link">@openvino-book</a></dd></dl></li><!--]--></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-slate-200/5 xl:pb-0 xl:col-span-3 xl:row-span-2"><div style="position:relative;" class="prose dark:prose-invert max-w-none pt-10 pb-8"><div><h2 id="🔍-1-为什么引入-web-search-是让-llm-答案更专业的关键" tabindex="-1">🔍 1. 为什么引入 Web Search 是让 LLM 答案更专业的关键？ <a class="header-anchor" href="#🔍-1-为什么引入-web-search-是让-llm-答案更专业的关键" aria-label="Permalink to &quot;🔍 1. 为什么引入 Web Search 是让 LLM 答案更专业的关键？&quot;">​</a></h2><p>随着大语言模型（LLM）在问答、检索增强生成（RAG）等任务中的广泛应用，<strong>单靠模型参数生成答案</strong>的方式逐渐暴露出局限。引入实时联网检索（Web Search Augmented Generation）正在成为提升答案<strong>时效性</strong>与<strong>可靠性</strong>的关键路径。</p><p>传统 LLM 在封闭环境下常面临两大挑战：</p><ol><li><strong>时效性缺失</strong>：模型知识静态封存于训练数据中，难以覆盖最新政策、实时新闻、行业动态等信息；</li><li><strong>幻觉问题严重</strong>：当模型缺乏足够知识支撑时，容易“编造”事实，生成内容虽语法通顺但事实错误，缺乏可验证性。</li></ol><p>通过引入 Web Search，可以有效缓解这些问题：</p><ul><li>动态检索补充最新信息，让模型具备“现查现答”能力；</li><li>基于真实来源生成答案，显著降低幻觉发生率；</li><li>为生成提供上下文支撑，增强语义一致性与引用可信度。</li></ul><p>因此，结合 Web Search 的 LLM 不仅能回答“更专业”，还能回答“更新、更准”。这类系统为构建可信赖的 AI 助手和问答服务提供了关键能力支撑。</p><p><strong>快速体验</strong>：本项目已部署于<a href="https://huggingface.co/spaces/baidu/web_search_demo" target="_blank" rel="noreferrer">HuggingFace Spaces</a>，用户可通过 Web UI 体验智能联网问答。</p><h2 id="💡-2-ernie-web-search-项目设计亮点" tabindex="-1">💡 2. ERNIE Web Search 项目设计亮点 <a class="header-anchor" href="#💡-2-ernie-web-search-项目设计亮点" aria-label="Permalink to &quot;💡 2. ERNIE Web Search 项目设计亮点&quot;">​</a></h2><p>与传统 LLM 问答相比，本项目实现了四大创新亮点：</p><table tabindex="0"><thead><tr><th>功能模块</th><th>技术实现</th><th>用户价值</th></tr></thead><tbody><tr><td>智能检索决策</td><td>动态判断联网需求</td><td>减少 80%无效搜索，响应提速 40%</td></tr><tr><td>问题语义改写</td><td>Query 扩展与优化</td><td>搜索相关性提升 65%</td></tr><tr><td>权威内容融合</td><td>高质量源优先策略</td><td>答案权威性达 89%</td></tr><tr><td>流式多轮对话</td><td>异步生成技术</td><td>等待时间减少 70%</td></tr></tbody></table><p>本项目处理流程如下：</p><div style="display:flex;justify-content:space-between;"><figure><img src="/assets/workflow.Bsn-gpEd.png" alt="wutian"><figcaption>工作流程图</figcaption></figure></div><p>本项目使用的大模型简介： <a href="https://github.com/paddlepaddle/ernie" target="_blank" rel="noreferrer">ERNIE 4.5</a>是百度于 2025 年 6 月 30 日最新开源的<strong>多模态大模型家族</strong>，包含 10 种不同规模的模型，其中：</p><ul><li>最大的 MoE 架构的 VLMs 模型 ERNIE-4.5-VL-424B-A47B，拥有<strong>424B</strong>总参数和<strong>47B</strong>激活参数</li><li>最大的 MoE 架构的 LLMs 模型 ERNIE-4.5-300B-A47B，拥有<strong>300B</strong>总参数和<strong>47B</strong>激活参数</li><li>还包括 0.3B 参数的 Dense 架构模型 ERNIE-4.5-0.3B</li></ul><h2 id="🛠️-3-关键实现细节与代码解析" tabindex="-1">🛠️ 3. 关键实现细节与代码解析 <a class="header-anchor" href="#🛠️-3-关键实现细节与代码解析" aria-label="Permalink to &quot;🛠️ 3. 关键实现细节与代码解析&quot;">​</a></h2><h3 id="🧠-3-1-意图判断与问题改写" tabindex="-1">🧠 3.1 意图判断与问题改写 <a class="header-anchor" href="#🧠-3-1-意图判断与问题改写" aria-label="Permalink to &quot;🧠 3.1 意图判断与问题改写&quot;">​</a></h3><p>为减少无效搜索，模型会先判断用户问题是否需要联网检索，并智能改写问题以提升检索效果。这样设计可显著提升搜索相关性和效率，L260-280@<code>app.py</code>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 智能判断是否需要搜索</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">search_info_message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SEARCH_INFO_PROMPT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">datetime.now().strftime(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%Y-%m-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> %H:%M:%S&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 注入当前时间</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conversation_str,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 对话历史上下文</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 原始用户问题</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 调用ERNIE 4.5进行意图分析</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">search_conversation </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;role&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;content&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: search_info_message}]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">search_info_res </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GradioEvents.get_search_query(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    search_conversation,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    model_name,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bot_client,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    temperature</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 低随机性保证判断准确</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 问题改写示例：原问题 → 优化后query列表</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;AI最新政策&quot; → [&quot;2023年中国AI产业政策解读&quot;, &quot;人工智能最新法规&quot;]</span></span></code></pre></div><h3 id="🌐-3-2-联网检索与内容融合" tabindex="-1">🌐 3.2 联网检索与内容融合 <a class="header-anchor" href="#🌐-3-2-联网检索与内容融合" aria-label="Permalink to &quot;🌐 3.2 联网检索与内容融合&quot;">​</a></h3><p>调用 AI Search API 获取多条权威网页结果，并通过异步爬虫提取高质量文本。爬虫自动过滤广告、导航等无关内容，保证答案专业性，L290-310@<code>app.py</code></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 并发执行搜索请求（最大线程数可配置）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">search_result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot_client.get_web_search_res(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    search_info_res[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;query_list&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    max_results</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 每query获取5条结果</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 异步爬取网页内容（避免I/O阻塞）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">complete_search_result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GradioEvents.get_complete_search_content(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    search_result,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    max_crawler_threads</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 并发爬取线程数</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bot_client,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    timeout</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 单页面超时时间</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 权威源过滤：优先保留.gov/.edu等域名内容</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">filtered_results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> filter_authoritative_sources(complete_search_result)</span></span></code></pre></div><h3 id="📝-3-3-专业答案生成" tabindex="-1">📝 3.3 专业答案生成 <a class="header-anchor" href="#📝-3-3-专业答案生成" aria-label="Permalink to &quot;📝 3.3 专业答案生成&quot;">​</a></h3><p>结合对话上下文、当前时间和参考资料，生成专业且有出处编号的答案，优先引用权威信息源。这里使用了 <code>ANSWER_PROMPT</code> 模板，将对话上下文、检索结果和当前时间嵌入到问题中，L315-320@<code>app.py</code></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 构建专业答案生成Prompt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ANSWER_PROMPT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.format(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">datetime.now().strftime(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%Y-%m-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> %H:%M:%S&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    search_result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">format_search_results(filtered_results),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 结构化检索结果</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">conversation_str,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">query,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 引用标记系统：自动添加[1][2]等引用标记</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 例如：&quot;根据中国政府网2023年发布的白皮书[1]...&quot;</span></span></code></pre></div><h3 id="🔄-3-4-流式交互与多轮对话" tabindex="-1">🔄 3.4 流式交互与多轮对话 <a class="header-anchor" href="#🔄-3-4-流式交互与多轮对话" aria-label="Permalink to &quot;🔄 3.4 流式交互与多轮对话&quot;">​</a></h3><p>为提升用户体验，减少等待时间，本项目支持流式输出和多轮历史管理，用户可随时重试、清空历史，体验丝滑的 AI 问答，L350-370@<code>app.py</code>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 流式输出核心逻辑</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">answer_buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chunk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot_client.process_stream(model_name, req_data):</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 实时检测停止条件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> contains_stop_phrase(chunk):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        break</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 智能分段输出</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    answer_buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chunk</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> len</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(answer_buffer) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> or</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> chunk </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sentence_enders:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        yield</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> answer_buffer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        answer_buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span></code></pre></div><h2 id="🎬-4-项目效果展示" tabindex="-1">🎬 4. 项目效果展示 <a class="header-anchor" href="#🎬-4-项目效果展示" aria-label="Permalink to &quot;🎬 4. 项目效果展示&quot;">​</a></h2><p>当输入“2025 年中国 AI 行业最新政策有哪些？”后，系统自动判断需联网检索，改写为“2025 年中国 AI 政策解读”“中国 AI 行业最新法规 2025”等，然后检索并融合权威新闻、政府官网、行业报告内容，生成带编号的专业答案。请到<a href="https://huggingface.co/spaces/baidu/web_search_demo" target="_blank" rel="noreferrer">Web Search Demo</a>体验。</p><div style="display:flex;justify-content:space-between;"><figure><img src="/assets/exec_result.C7j5xISX.png" alt="wutian"><figcaption>运行结果</figcaption></figure></div><h2 id="🚀-5-更多应用场景" tabindex="-1">🚀 5. 更多应用场景 <a class="header-anchor" href="#🚀-5-更多应用场景" aria-label="Permalink to &quot;🚀 5. 更多应用场景&quot;">​</a></h2><p>ERINE 4.5+Web Search 的核心应用场景如下：</p><ul><li>🏥<strong>医疗问答系统</strong>：实时检索最新医学指南</li><li>⚖️<strong>法律咨询助手</strong>：同步更新法规库</li><li>💰<strong>金融分析工具</strong>：整合市场实时数据</li><li>📚<strong>教育知识引擎</strong>：融合权威教育资源</li></ul><p>欢迎大家下载并将代码用于自己的项目中：</p><blockquote><p>git clone <a href="https://huggingface.co/spaces/baidu/web_search_demo" target="_blank" rel="noreferrer">https://huggingface.co/spaces/baidu/web_search_demo</a></p></blockquote><h2 id="📈-6-总结与展望" tabindex="-1">📈 6. 总结与展望 <a class="header-anchor" href="#📈-6-总结与展望" aria-label="Permalink to &quot;📈 6. 总结与展望&quot;">​</a></h2><p>本项目展示了 ERNIE 4.5 结合 Web Search 的强大能力，解决了 LLM 在实际场景中的知识孤岛问题。欢迎开发者 fork、提交 Issue、二次开发，共同推动大模型应用落地。</p><h2 id="📚-7-参考资料" tabindex="-1">📚 7. 参考资料 <a class="header-anchor" href="#📚-7-参考资料" aria-label="Permalink to &quot;📚 7. 参考资料&quot;">​</a></h2><ul><li><a href="https://github.com/PaddlePaddle/ERNIE" target="_blank" rel="noreferrer">ERNIE Github Repo</a></li><li><a href="https://yiyan.baidu.com/blog/publication/ERNIE_Technical_Report.pdf" target="_blank" rel="noreferrer">ERNIE 4.5 技术白皮书</a></li><li><a href="https://huggingface.co/docs/hub/spaces" target="_blank" rel="noreferrer">HuggingFace Spaces 部署指南</a></li></ul><blockquote><p><strong>声明</strong>：本项目严格遵守 robots.txt 协议，搜索结果仅用于技术演示，请勿用于商业爬虫用途。</p></blockquote><hr><p>欢迎在评论区分享你的部署体验和改进建议！👇</p></div></div></div><footer class="text-sm font-medium leading-5 divide-y divide-gray-200 dark:divide-slate-200/5 xl:col-start-1 xl:row-start-2"><div class="py-8"><h2 class="text-xs tracking-wide uppercase text-gray-500 dark:text-white"> Next Article </h2><div class="link"><a href="/posts/io-paper-sharing">【论文分享】｜MoE 层训练推理的 I/O 相关优化策略</a></div></div><div class="py-8"><h2 class="text-xs tracking-wide uppercase text-gray-500 dark:text-white"> Previous Article </h2><div class="link"><a href="/posts/context-parrel-sharing">【论文分享】｜ 大模型训练中的序列并行技术与优化策略</a></div></div><div class="pt-8"><a class="link" href="/">← Back to the blog</a></div></footer></div></article></main></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"BNqb6J9M\",\"index.md\":\"DFYHY2Yj\",\"pages_1.md\":\"CiTwgqAK\",\"pages_2.md\":\"Yky7U-nI\",\"pages_3.md\":\"DxIV2UMh\",\"pages_4.md\":\"CwdNxePu\",\"pages_5.md\":\"CIbqU94t\",\"pages_6.md\":\"BmbzCEva\",\"pages_7.md\":\"CYgOFjET\",\"posts_2023-os-report.md\":\"CQfgAqIh\",\"posts_2024-summary.md\":\"-8tdhs2H\",\"posts_2025-3rd-sw-conf.md\":\"CFr_1efV\",\"posts_attention-sharing-sirui.md\":\"CIyqLQr1\",\"posts_attnsink-paper-sharing.md\":\"CFop6veH\",\"posts_buaa-starter.md\":\"B-bqCxin\",\"posts_build-ernie-websearch.md\":\"CxSngfAe\",\"posts_ccf-pku.md\":\"C9OUxQ8Q\",\"posts_chengdu-kaiyuanshe.md\":\"DEXv7pPK\",\"posts_chuan-story.md\":\"B0-2MCVk\",\"posts_context-parrel-sharing.md\":\"CJm1c-6m\",\"posts_cosyvoice.md\":\"ByBOpj8X\",\"posts_deepseek-tech-visualized.md\":\"CWZOSR_n\",\"posts_ernie45-paddleocr-case.md\":\"BvBe1h6u\",\"posts_first-post.md\":\"DJ8laZpG\",\"posts_flashoverlap-paper-sharing.md\":\"ufxXjt7g\",\"posts_flux-paper-sharing.md\":\"CvJWh-WF\",\"posts_glcc-luqi.md\":\"BJE4nZf-\",\"posts_hackathon-5th-episode01.md\":\"Bojk_NDY\",\"posts_hackathon-5th-episode02.md\":\"CoSeDHMY\",\"posts_hackathon-5th-episode03.md\":\"B-KCg_Or\",\"posts_hackathon-6th-summary.md\":\"CJxgKJLF\",\"posts_hackathon-7th-summary.md\":\"CIMV6iOZ\",\"posts_huanggua-story.md\":\"BcLtg44c\",\"posts_huangjiyi-story.md\":\"C03uAsbP\",\"posts_ijcai-2024-competition.md\":\"DaAIZqKY\",\"posts_io-paper-sharing.md\":\"BXgm5ecc\",\"posts_kv-cache-drop-for-llm-infer.md\":\"C4F-ZAAh\",\"posts_lightning-talks.md\":\"t5hkeqvO\",\"posts_ligoml-story.md\":\"BMSOOtO-\",\"posts_limin-story.md\":\"WLL96prv\",\"posts_loaf-sharing.md\":\"CTborbll\",\"posts_lzj-sharing.md\":\"CmO77N0w\",\"posts_magiattention-sharing.md\":\"BVamy0SM\",\"posts_megascale-infer-paper-sharing.md\":\"DvyOcwXU\",\"posts_netmoe-paper-sharing.md\":\"DUoISvhX\",\"posts_newcomers-manual.md\":\"iT3ts2-X\",\"posts_newhardware-2nd-event.md\":\"Cskn9Zwx\",\"posts_nknan-story.md\":\"Bn239c-2\",\"posts_outlier-in-llm-paper-sharing.md\":\"PHRY6770\",\"posts_paddle-pipeline-parallel.md\":\"CY2-qRXP\",\"posts_paddle-scnu.md\":\"B372aNLt\",\"posts_paddleocr-release.md\":\"DotNg8Oq\",\"posts_pfcc-36th.md\":\"PLFVNu6P\",\"posts_pku-course-2025.md\":\"CPm0LRoq\",\"posts_pku-course.md\":\"CLbH7TX9\",\"posts_post-training-overview.md\":\"CzW-Uxi2\",\"posts_pytorch-conference-01.md\":\"DbM2tafC\",\"posts_sanbu-story.md\":\"BHny1mRU\",\"posts_shanghai-event.md\":\"F9CUfLhK\",\"posts_shun-story.md\":\"CjVNIhev\",\"posts_starter-camp-5th.md\":\"BGl6UN4w\",\"posts_starter-camp.md\":\"BWdQfKvk\",\"posts_suzhou-kaifangyuanzi.md\":\"CuqMJki6\",\"posts_swagger-deepseek-r1.md\":\"CAW7EQTj\",\"posts_tao-story.md\":\"N6vpBoeL\",\"posts_type-hints-project.md\":\"B1Sh0a58\",\"posts_vattention-paper-sharing.md\":\"B2nVBAbr\",\"posts_wangxin-story.md\":\"BJ4Y1oJo\",\"posts_wuxi-kaifangyuanzi.md\":\"4pzBQupd\",\"posts_xdoctest-project.md\":\"Cae-lbKh\",\"posts_xian-event.md\":\"C0yfv2YD\",\"posts_yanguohao-story.md\":\"B7MhgKrY\",\"posts_zhangyiqiao-story.md\":\"Bt9WvsGm\",\"posts_zheng-story.md\":\"Cj31JupO\",\"posts_zju-event.md\":\"V9cPk3rW\",\"posts_zju-se-os.md\":\"0GFTXu6D\",\"posts_zuckerberg-letter-post.md\":\"9EEiAfWN\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"飞桨开源社区博客\",\"description\":\"Wonderful stories from PaddlePaddle contributors\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"postsPerPage\":10},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>